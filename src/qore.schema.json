{
  "WARNING": "[WARNING] This file is generated by running `$ qore codegen` on your root project, please do not edit",
  "tables": [
    {
      "name": "member",
      "type": "auth",
      "id": "member",
      "fields": [
        {
          "name": "email",
          "type": "text",
          "deletionProtection": true,
          "defaultValue": null,
          "id": "email",
          "displayField": true
        },
        {
          "name": "role",
          "type": "role",
          "deletionProtection": true,
          "defaultValue": null,
          "id": "role",
          "displayField": false
        },
        {
          "name": "Feedback",
          "type": "relation",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "feedback",
          "table": "feedback",
          "column": "createdBy",
          "multiple": true,
          "relatedTableFields": [],
          "displayField": false
        }
      ]
    },
    {
      "name": "Feedback",
      "type": null,
      "id": "feedback",
      "fields": [
        {
          "name": "description",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "description",
          "displayField": false
        },
        {
          "name": "title",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "title",
          "displayField": true
        },
        {
          "name": "vote",
          "type": "number",
          "deletionProtection": false,
          "defaultValue": "0",
          "id": "vote",
          "displayField": false
        },
        {
          "name": "created_by",
          "type": "relation",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "createdBy",
          "table": "member",
          "column": "feedback",
          "multiple": false,
          "relatedTableFields": ["email"],
          "displayField": false
        },
        {
          "name": "slug",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "slug",
          "displayField": false
        },
        {
          "name": "created_at",
          "type": "date",
          "deletionProtection": false,
          "defaultValue": "NOW()",
          "id": "createdAt",
          "displayField": false
        },
        {
          "name": "status",
          "type": "select",
          "deletionProtection": false,
          "defaultValue": "TODO",
          "id": "status",
          "select": ["ON PROGRESS", "DONE", "ICEBOX", "TODO"],
          "displayField": false
        },
        {
          "name": "Comment",
          "type": "relation",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "comment",
          "table": "comment",
          "column": "feedback",
          "multiple": true,
          "relatedTableFields": [],
          "displayField": false
        },
        {
          "name": "comments",
          "type": "lookup",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "comments",
          "source": "comment",
          "destinations": ["body"],
          "returnType": "text",
          "multiple": true,
          "displayField": false
        },
        {
          "name": "numberofcomments",
          "type": "rollup",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "numberofcomments",
          "source": "comment",
          "destinations": ["id"],
          "aggregate": "count",
          "condition": null,
          "displayField": false
        },
        {
          "name": "setdone",
          "type": "action",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "setdone",
          "parameters": [],
          "tasks": [{ "type": "update", "update": { "status": "'DONE'" } }],
          "condition": null,
          "displayField": false
        }
      ]
    },
    {
      "name": "Comment",
      "type": null,
      "id": "comment",
      "fields": [
        {
          "name": "body",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "body",
          "displayField": false
        },
        {
          "name": "feedback",
          "type": "relation",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "feedback",
          "table": "feedback",
          "column": "comment",
          "multiple": false,
          "relatedTableFields": ["title"],
          "displayField": false
        },
        {
          "name": "created_at",
          "type": "date",
          "deletionProtection": false,
          "defaultValue": "NOW()",
          "id": "createdAt",
          "displayField": false
        }
      ]
    }
  ],
  "roles": [
    {
      "name": "admin",
      "isAdmin": true,
      "isEditor": false,
      "isPublic": false,
      "permissions": []
    },
    {
      "name": "public",
      "isAdmin": false,
      "isEditor": false,
      "isPublic": true,
      "permissions": [
        {
          "insert": false,
          "select": false,
          "update": false,
          "delete": false,
          "viewId": "allMember"
        },
        {
          "insert": true,
          "select": true,
          "update": true,
          "delete": true,
          "viewId": "allFeedback"
        },
        {
          "insert": true,
          "select": true,
          "update": true,
          "delete": true,
          "viewId": "allComment"
        },
        {
          "insert": false,
          "select": true,
          "update": false,
          "delete": false,
          "viewId": "commentsByFeedback"
        }
      ]
    }
  ],
  "forms": [
    {
      "name": "Form member",
      "id": "formMember",
      "tableId": "member",
      "fields": [{ "id": "email" }, { "id": "role" }]
    },
    {
      "name": "Feedback Form",
      "id": "feedbackForm",
      "tableId": "feedback",
      "fields": [
        { "required": true, "id": "title" },
        { "required": true, "id": "description" },
        { "required": true, "id": "createdBy" }
      ]
    }
  ],
  "views": [
    {
      "id": "allMember",
      "name": "All member",
      "tableId": "member",
      "parameters": [],
      "sorts": [],
      "fields": [
        {
          "name": "email",
          "type": "text",
          "deletionProtection": true,
          "defaultValue": null,
          "id": "email",
          "displayField": true,
          "design": null
        },
        {
          "name": "role",
          "type": "role",
          "deletionProtection": true,
          "defaultValue": null,
          "id": "role",
          "displayField": false,
          "design": null
        }
      ],
      "design": null
    },
    {
      "id": "allFeedback",
      "name": "All Feedback",
      "tableId": "feedback",
      "parameters": [],
      "sorts": [],
      "fields": [
        {
          "name": "title",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "title",
          "displayField": true,
          "design": { "width": 318 }
        },
        {
          "name": "description",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "description",
          "displayField": false,
          "design": null
        },
        {
          "name": "vote",
          "type": "number",
          "deletionProtection": false,
          "defaultValue": "0",
          "id": "vote",
          "displayField": false,
          "design": null
        },
        {
          "name": "created_by",
          "type": "relation",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "createdBy",
          "table": "member",
          "column": "feedback",
          "multiple": false,
          "relatedTableFields": ["email"],
          "displayField": false,
          "design": null
        },
        {
          "name": "slug",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "slug",
          "displayField": false,
          "design": null
        },
        {
          "name": "created_at",
          "type": "date",
          "deletionProtection": false,
          "defaultValue": "NOW()",
          "id": "createdAt",
          "displayField": false,
          "design": null
        },
        {
          "name": "status",
          "type": "select",
          "deletionProtection": false,
          "defaultValue": "TODO",
          "id": "status",
          "select": ["ON PROGRESS", "DONE", "ICEBOX", "TODO"],
          "displayField": false,
          "design": null
        },
        {
          "name": "comments",
          "type": "lookup",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "comments",
          "source": "comment",
          "destinations": ["body"],
          "returnType": "text",
          "multiple": true,
          "displayField": false,
          "design": null
        },
        {
          "name": "numberofcomments",
          "type": "rollup",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "numberofcomments",
          "source": "comment",
          "destinations": ["id"],
          "aggregate": "count",
          "condition": null,
          "displayField": false,
          "design": null
        },
        {
          "name": "setdone",
          "type": "action",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "setdone",
          "parameters": [],
          "tasks": [{ "type": "update", "update": { "status": "'DONE'" } }],
          "condition": null,
          "displayField": false,
          "design": null
        }
      ],
      "design": null
    },
    {
      "id": "allComment",
      "name": "All Comment",
      "tableId": "comment",
      "parameters": [],
      "sorts": [],
      "fields": [
        {
          "name": "body",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "body",
          "displayField": false,
          "design": null
        },
        {
          "name": "feedback",
          "type": "relation",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "feedback",
          "table": "feedback",
          "column": "comment",
          "multiple": false,
          "relatedTableFields": ["title"],
          "displayField": false,
          "design": null
        },
        {
          "name": "created_at",
          "type": "date",
          "deletionProtection": false,
          "defaultValue": "NOW()",
          "id": "createdAt",
          "displayField": false,
          "design": null
        }
      ],
      "design": null
    },
    {
      "id": "commentsByFeedback",
      "name": "Comments by feedback",
      "tableId": "comment",
      "parameters": [
        { "slug": "feedbackId", "type": "text", "required": true }
      ],
      "sorts": [],
      "fields": [
        {
          "name": "body",
          "type": "text",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "body",
          "displayField": false,
          "design": null
        },
        {
          "name": "feedback",
          "type": "relation",
          "deletionProtection": false,
          "defaultValue": null,
          "id": "feedback",
          "table": "feedback",
          "column": "comment",
          "multiple": false,
          "relatedTableFields": ["title"],
          "displayField": false,
          "design": null
        },
        {
          "name": "created_at",
          "type": "date",
          "deletionProtection": false,
          "defaultValue": "NOW()",
          "id": "createdAt",
          "displayField": false,
          "design": null
        }
      ],
      "design": null,
      "filter": "feedback.id = $param.feedbackId"
    }
  ]
}
